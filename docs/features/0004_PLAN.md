# Plan Técnico: Expandir pantalla de espera a 8 jugadores

## Descripción

Expandir la pantalla de espera (players-scene) de Triangulame para mostrar hasta 8 slots de jugadores en lugar de los 4 actuales. Esto permitirá que más jugadores se conecten y participen en las partidas.

## Contexto

Actualmente, el juego está limitado a mostrar 4 jugadores en la pantalla de espera. En `players-scene.js`, la función `createRectanglesForNames()` crea exactamente 4 rectángulos (líneas 355-358) para mostrar los jugadores conectados. El usuario quiere que se puedan mostrar hasta 8 jugadores para permitir partidas más grandes.

## Archivos a modificar

### 1. `/src/phaser-ui/scenes/players-scene.js`

**Función `createRectanglesForNames()` (líneas 344-361):**
- Modificar el bucle que crea los rectángulos de jugadores de 4 a 8 slots
- Ajustar el espaciado vertical para acomodar 8 jugadores en lugar de 4
- Mantener el diseño responsive y el estilo cyberpunk existente

**Función `updatePlayers()` (líneas 459-474):**
- Modificar la lógica para manejar hasta 8 jugadores en lugar de 4
- Actualizar el cálculo `Array(4 - sortedPlayers.length)` a `Array(8 - sortedPlayers.length)`
- Asegurar que los slots vacíos se muestren correctamente como "ESPERANDO..."

**Función `createRectangle()` (líneas 363-457):**
- Verificar que los estilos CSS soporten más de 4 colores de jugadores
- Agregar nuevos colores para los jugadores 5-8 si es necesario
- Mantener la consistencia visual con el tema cyberpunk

### 2. `/src/phaser-ui/scenes/constants/players-colors.js`

**Verificar/Expandir colores de jugadores:**
- Revisar si existen colores definidos para más de 4 jugadores
- Agregar colores adicionales para jugadores 5-8 si es necesario
- Mantener la paleta de colores cyberpunk (cian, magenta, verde, amarillo, etc.)

## Algoritmo de implementación

### Fase 1: Modificar la creación de slots de jugadores
1. Cambiar el bucle en `createRectanglesForNames()` de 4 iteraciones a 8
2. Ajustar el espaciado vertical (`spacing`) para acomodar 8 jugadores
3. Calcular nuevas posiciones Y para cada slot adicional

### Fase 2: Actualizar la lógica de actualización de jugadores
1. Modificar `updatePlayers()` para manejar arrays de hasta 8 jugadores
2. Actualizar el cálculo de slots vacíos de `4 - sortedPlayers.length` a `8 - sortedPlayers.length`
3. Asegurar que los slots vacíos se marquen correctamente como "ESPERANDO..."

### Fase 3: Expandir paleta de colores (si es necesario)
1. Revisar `players-colors.js` para colores adicionales
2. Agregar colores para jugadores 5-8 manteniendo el estilo cyberpunk
3. Asegurar que todos los colores sean visualmente distintos y accesibles

### Fase 4: Ajustar responsive design
1. Verificar que el layout funcione en dispositivos móviles con 8 jugadores
2. Ajustar tamaños de fuente y espaciado si es necesario
3. Mantener la usabilidad en pantallas pequeñas

## Consideraciones técnicas

- **Layout vertical**: Los 8 jugadores se mostrarán en una columna vertical para mantener la legibilidad
- **Espaciado**: Reducir el espaciado entre jugadores si es necesario para que quepan en pantallas más pequeñas
- **Colores**: Usar colores adicionales de la paleta cyberpunk (naranja, púrpura, rosa, etc.) para los nuevos slots
- **Responsive**: Asegurar que el diseño funcione tanto en desktop como en móvil
- **Performance**: No hay impacto significativo en performance al mostrar 8 elementos en lugar de 4

## Dependencias

- No requiere cambios en el backend (Firebase)
- No requiere cambios en la lógica de juego
- Solo afecta la presentación visual de la pantalla de espera
- Compatible con el sistema de eventos existente (`players.updated`)
